{
  "mappings" : [ {
    "id" : "4a40a9a1-59e3-426f-a1e1-9d55235e98e4",
    "name" : "Update Policy",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/8d0r",
      "method" : "PUT"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 40%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"40.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"effect\" : \"Allow\",\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/octet-stream"
      }
    },
    "uuid" : "4a40a9a1-59e3-426f-a1e1-9d55235e98e4",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-23T15:41:55.495329Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "(none)",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 40%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "40.00" ]
                  } ],
                  "operation" : "and"
                },
                "effect" : "Allow",
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    },
    "insertionIndex" : 0
  }, {
    "id" : "f69353dc-cea2-40c8-a247-6e1c36d5c786",
    "name" : "Create Policy",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/6d00",
      "method" : "POST"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"70.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/octet-stream"
      }
    },
    "uuid" : "f69353dc-cea2-40c8-a247-6e1c36d5c786",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-23T15:41:55.495189Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_CreateOrUpdate",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "70.00" ]
                  } ],
                  "operation" : "and"
                },
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    },
    "insertionIndex" : 1
  }, {
    "id" : "814a245d-72e3-4b91-8d31-182e8be06de0",
    "name" : "Get Policy by ID",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/x39y",
      "method" : "GET"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"70.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"effect\" : \"Allow\",\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/json"
      }
    },
    "uuid" : "814a245d-72e3-4b91-8d31-182e8be06de0",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-23T15:41:55.495062Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_Get",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "70.00" ]
                  } ],
                  "operation" : "and"
                },
                "effect" : "Allow",
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    },
    "insertionIndex" : 2
  }, {
    "id" : "d9db1900-d04c-40b0-b1a8-39b918984d27",
    "name" : "Delete Policy by ID - 200",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/f0px",
      "method" : "DELETE"
    },
    "response" : {
      "status" : 200
    },
    "uuid" : "d9db1900-d04c-40b0-b1a8-39b918984d27",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-23T15:41:55.494932Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_Delete"
        }
      }
    },
    "insertionIndex" : 3
  }, {
    "id" : "8e748e79-8e40-422f-bb5d-5543caf49476",
    "name" : "Get Policy List",
    "request" : {
      "urlPath" : "/api/policy-engine/policies",
      "method" : "GET"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"70.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"effect\" : \"Allow\",\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/json"
      }
    },
    "uuid" : "8e748e79-8e40-422f-bb5d-5543caf49476",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-23T15:41:55.494815Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_List",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "70.00" ]
                  } ],
                  "operation" : "and"
                },
                "effect" : "Allow",
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    },
    "insertionIndex" : 4
  }, {
    "id" : "0bfd2d1c-0f2e-48d0-9d1c-cd14c51dad36",
    "name" : "Evaluate Policies",
    "request" : {
      "urlPath" : "/api/policy-engine/evaluate",
      "method" : "POST"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"id\" : \"SendSlackMessage\",\n  \"metadata\" : {\n    \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n    \"channel\" : \"C01NJFF35R6\",\n    \"relatedUsers\" : [ \"URUNDC2NB\" ]\n  }\n} ]",
      "headers" : {
        "Content-Type" : "application/json"
      }
    },
    "uuid" : "0bfd2d1c-0f2e-48d0-9d1c-cd14c51dad36",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-23T15:41:55.494693Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_Evaluate",
          "schema" : {
            "example" : [ {
              "id" : "SendSlackMessage",
              "metadata" : {
                "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                "channel" : "C01NJFF35R6",
                "relatedUsers" : [ "URUNDC2NB" ]
              }
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyActionGetResponse"
            },
            "type" : "array"
          }
        }
      }
    },
    "insertionIndex" : 5
  } ]
}