{
  "mappings" : [ {
    "id" : "114ce6bf-7f82-4e95-b1f6-f4e50ebf882e",
    "name" : "Update Policy",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/1pwx",
      "method" : "PUT"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 40%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"40.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"effect\" : \"Allow\",\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/octet-stream"
      }
    },
    "uuid" : "114ce6bf-7f82-4e95-b1f6-f4e50ebf882e",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-06T18:11:48.976318Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "(none)",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 40%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "40.00" ]
                  } ],
                  "operation" : "and"
                },
                "effect" : "Allow",
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    }
  }, {
    "id" : "06c06b78-2c0d-4e16-a3d8-bd6012794ed3",
    "name" : "Create Policy",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/g4s3",
      "method" : "POST"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"70.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/octet-stream"
      }
    },
    "uuid" : "06c06b78-2c0d-4e16-a3d8-bd6012794ed3",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-06T18:11:48.976195Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_CreateOrUpdate",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "70.00" ]
                  } ],
                  "operation" : "and"
                },
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    }
  }, {
    "id" : "4db98473-0bbc-4d01-81dd-40c3e5afd278",
    "name" : "Get Policy by ID",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/i7is",
      "method" : "GET"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"70.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"effect\" : \"Allow\",\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/json"
      }
    },
    "uuid" : "4db98473-0bbc-4d01-81dd-40c3e5afd278",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-06T18:11:48.976067Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_Get",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "70.00" ]
                  } ],
                  "operation" : "and"
                },
                "effect" : "Allow",
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    }
  }, {
    "id" : "606710bc-507f-4372-a481-d6f427754419",
    "name" : "Delete Policy by ID - 200",
    "request" : {
      "urlPath" : "/api/policy-engine/policies/0sno",
      "method" : "DELETE"
    },
    "response" : {
      "status" : 200
    },
    "uuid" : "606710bc-507f-4372-a481-d6f427754419",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-06T18:11:48.975937Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_Delete"
        }
      }
    }
  }, {
    "id" : "63e2bfce-d501-4e50-b387-872668ba0c0d",
    "name" : "Get Policy List",
    "request" : {
      "urlPath" : "/api/policy-engine/policies",
      "method" : "GET"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"description\" : \"TesteMarcosPromotionsAlert\",\n  \"id\" : \"pa_test_001\",\n  \"name\" : \"TestAlarmBerenice\",\n  \"statements\" : [ {\n    \"actions\" : [ {\n      \"id\" : \"SendSlackMessage\",\n      \"metadata\" : {\n        \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n        \"channel\" : \"C01NJFF35R6\",\n        \"relatedUsers\" : [ \"URUNDC2NB\" ]\n      }\n    } ],\n    \"condition\" : {\n      \"conditions\" : [ {\n        \"conditions\" : [ ],\n        \"key\" : \"brandId\",\n        \"operation\" : \"stringEquals\",\n        \"values\" : [ \"2000001\" ]\n      }, {\n        \"conditions\" : [ ],\n        \"key\" : \"discountPercentage\",\n        \"operation\" : \"numericGreaterThan\",\n        \"values\" : [ \"70.00\" ]\n      } ],\n      \"operation\" : \"and\"\n    },\n    \"effect\" : \"Allow\",\n    \"resource\" : \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\"\n  } ]\n} ]",
      "headers" : {
        "Content-Type" : "application/json"
      }
    },
    "uuid" : "63e2bfce-d501-4e50-b387-872668ba0c0d",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-06T18:11:48.975818Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_List",
          "schema" : {
            "example" : [ {
              "description" : "TesteMarcosPromotionsAlert",
              "id" : "pa_test_001",
              "name" : "TestAlarmBerenice",
              "statements" : [ {
                "actions" : [ {
                  "id" : "SendSlackMessage",
                  "metadata" : {
                    "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                    "channel" : "C01NJFF35R6",
                    "relatedUsers" : [ "URUNDC2NB" ]
                  }
                } ],
                "condition" : {
                  "conditions" : [ {
                    "conditions" : [ ],
                    "key" : "brandId",
                    "operation" : "stringEquals",
                    "values" : [ "2000001" ]
                  }, {
                    "conditions" : [ ],
                    "key" : "discountPercentage",
                    "operation" : "numericGreaterThan",
                    "values" : [ "70.00" ]
                  } ],
                  "operation" : "and"
                },
                "effect" : "Allow",
                "resource" : "vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert"
              } ]
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyGetResponse"
            },
            "type" : "array"
          }
        }
      }
    }
  }, {
    "id" : "ae9e6b06-3bcc-4823-84cd-fac47e405300",
    "name" : "Evaluate Policies",
    "request" : {
      "urlPath" : "/api/policy-engine/evaluate",
      "method" : "POST"
    },
    "response" : {
      "status" : 200,
      "body" : "[ {\n  \"id\" : \"SendSlackMessage\",\n  \"metadata\" : {\n    \"alertDescription\" : \"Avoid selling products from Berenice with a discount greater than 70%.\",\n    \"channel\" : \"C01NJFF35R6\",\n    \"relatedUsers\" : [ \"URUNDC2NB\" ]\n  }\n} ]",
      "headers" : {
        "Content-Type" : "application/json"
      }
    },
    "uuid" : "ae9e6b06-3bcc-4823-84cd-fac47e405300",
    "persistent" : true,
    "metadata" : {
      "mocklab" : {
        "created" : {
          "at" : "2023-03-06T18:11:48.975731Z",
          "via" : "OAS3_IMPORT"
        },
        "oas" : {
          "operationId" : "Policy_Evaluate",
          "schema" : {
            "example" : [ {
              "id" : "SendSlackMessage",
              "metadata" : {
                "alertDescription" : "Avoid selling products from Berenice with a discount greater than 70%.",
                "channel" : "C01NJFF35R6",
                "relatedUsers" : [ "URUNDC2NB" ]
              }
            } ],
            "items" : {
              "$ref" : "#/components/schemas/PolicyActionGetResponse"
            },
            "type" : "array"
          }
        }
      }
    }
  } ]
}